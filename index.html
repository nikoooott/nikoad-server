<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NikoAd ‚Äî –†–µ–∫–ª–∞–º–∞ –≤ Telegram</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #6a0dad, #12005e);
      color: #f0f0f5;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    .channels {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .channel-card {
      background: #2e005e;
      border-radius: 12px;
      padding: 20px;
      width: 240px;
      box-shadow: 0 4px 15px rgba(106, 13, 173, 0.5);
      transition: transform 0.3s ease;
    }

    .channel-card:hover {
      transform: translateY(-8px);
    }

    .channel-name {
      font-weight: bold;
      font-size: 1.1rem;
      margin-bottom: 10px;
    }

    .subscribers {
      font-size: 0.9rem;
      margin-bottom: 12px;
      color: #b0a9e6;
    }

    .btn-stat {
      background: #8a2be2;
      border: none;
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
    }

    .stats-modal {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 600px;
      background: #210044;
      border-radius: 14px;
      padding: 20px;
      z-index: 1000;
      box-shadow: 0 0 30px rgba(0,0,0,0.8);
    }

    .stats-modal.active {
      display: block;
    }

    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 999;
      display: none;
    }

    .overlay.active {
      display: block;
    }

    .form-block {
      margin-top: 40px;
      background: #2e005e;
      padding: 25px;
      border-radius: 12px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .form-block h2 {
      margin-top: 0;
    }

    form input, form textarea, form select {
      width: 100%;
      padding: 10px 14px;
      margin-bottom: 15px;
      border: none;
      border-radius: 10px;
      background: #3c007d;
      color: white;
    }

    form button {
      width: 100%;
      background: #8a2be2;
      border: none;
      padding: 12px;
      border-radius: 10px;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }

    #price {
      text-align: center;
      font-size: 1.1rem;
      margin-top: 10px;
      font-weight: bold;
    }

  </style>
</head>
<body>

<h1>NikoAd ‚Äî –†–µ–∫–ª–∞–º–∞ –≤ Telegram</h1>

<div class="channels" id="channelsContainer"></div>

<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div class="overlay" id="overlay"></div>
<div class="stats-modal" id="statsModal">
  <h2 id="statsTitle"></h2>
  <p id="statsContent"></p>
  <button onclick="closeStats()">–ù–∞–∑–∞–¥</button>
</div>

<!-- –§–æ—Ä–º–∞ -->
<div class="form-block">
  <h2>–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞—è–≤–∫—É</h2>
  <form id="orderForm">
    <label>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª—ã:</label>
    <select id="channelSelect" multiple required></select>

    <label>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:</label>
    <select id="durationSelect" required>
      <option value="24">24 —á–∞—Å–∞</option>
      <option value="48">48 —á–∞—Å–æ–≤</option>
      <option value="72">72 —á–∞—Å–∞</option>
      <option value="forever">–ù–∞–≤—Å–µ–≥–¥–∞</option>
      <option value="story">–ò—Å—Ç–æ—Ä–∏—è</option>
    </select>

    <div id="price">–¶–µ–Ω–∞: 0 ‚ÇΩ</div>

    <input type="text" name="name" placeholder="–í–∞—à–µ –∏–º—è" required>
    <input type="text" name="telegram" placeholder="–í–∞—à Telegram (@username)" required>
    <textarea name="message" placeholder="–¢–µ–∫—Å—Ç —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –ø–æ—Å—Ç–∞" required></textarea>

    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    <div id="statusMsg"></div>
  </form>
</div>

<script>
  const channels = [
    {
      id: 'tver',
      name: '–ò—â—É –¢–µ–±—è –¢–≤–µ—Ä—å',
      link: 'https://t.me/ishutebyatverr',
      subs: 10500,
      stats: '–°–†–ï–î–ù–ò–ô –û–•–í–ê–¢: 2573 / ERR: 26% / ER: 0.49%',
      prices: { "24": 1550, "48": 1700, "72": 1900, "forever": 2600, "story": 1100 }
    },
    {
      id: 'nizhnevartovsk',
      name: '–ò—â—É –¢–µ–±—è –ù–∏–∂–Ω–µ–≤–∞—Ä—Ç–æ–≤—Å–∫',
      link: 'https://t.me/nizhnevartovsk_dtp',
      subs: 6000,
      stats: '–°–†–ï–î–ù–ò–ô –û–•–í–ê–¢: 2156 / ERR: 43.7% / ER: 0.73%',
      prices: { "24": 1400, "48": 1600, "72": 1800, "forever": 2200, "story": 1100 }
    },
    {
      id: 'niko',
      name: 'NIKO üá¶üá≤',
      link: 'https://t.me/nikotver',
      subs: 3500,
      stats: '–°–†–ï–î–ù–ò–ô –û–•–í–ê–¢: 773 / ERR: 247% / ER: 2.67%',
      prices: { "24": 1000, "48": 1150, "72": 1250, "story": 800 }
    },
    {
      id: 'krasnoyarsk',
      name: '–ò—â—É –¢–µ–±—è –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫',
      link: 'https://t.me/ishutebyakrasnoyarsk',
      subs: 3000,
      stats: '–°–†–ï–î–ù–ò–ô –û–•–í–ê–¢: 574 / ERR: 37.8% / ER: 0.98%',
      prices: { "24": 800, "48": 1000, "72": 1150, "forever": 1300, "story": 700 }
    }
  ];

  const channelsContainer = document.getElementById('channelsContainer');
  const channelSelect = document.getElementById('channelSelect');
  const durationSelect = document.getElementById('durationSelect');
  const priceDisplay = document.getElementById('price');
  const statsModal = document.getElementById('statsModal');
  const overlay = document.getElementById('overlay');

  // –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫
  channels.forEach(ch => {
    // –ö–∞—Ä—Ç–æ—á–∫–∞
    const div = document.createElement('div');
    div.className = 'channel-card';
    div.innerHTML = `
      <div class="channel-name"><a href="${ch.link}" target="_blank" style="color:#bf94ff;text-decoration:none;">${ch.name}</a></div>
      <div class="subscribers">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: ${ch.subs}</div>
      <button class="btn-stat" onclick="showStats('${ch.id}')">–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
    `;
    channelsContainer.appendChild(div);

    // –î–æ–±–∞–≤–∏—Ç—å –≤ select
    const opt = document.createElement('option');
    opt.value = ch.id;
    opt.textContent = ch.name;
    channelSelect.appendChild(opt);
  });

  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  function showStats(id) {
    const ch = channels.find(c => c.id === id);
    document.getElementById('statsTitle').textContent = ch.name;
    document.getElementById('statsContent').textContent = ch.stats;
    statsModal.classList.add('active');
    overlay.classList.add('active');
  }

  function closeStats() {
    statsModal.classList.remove('active');
    overlay.classList.remove('active');
  }

  // –¶–µ–Ω–∞
  function updatePrice() {
    const selected = Array.from(channelSelect.selectedOptions).map(opt => opt.value);
    const duration = durationSelect.value;
    let total = 0;
    selected.forEach(id => {
      const ch = channels.find(c => c.id === id);
      if (ch && ch.prices[duration]) {
        total += ch.prices[duration];
      }
    });
    priceDisplay.textContent = `–¶–µ–Ω–∞: ${total} ‚ÇΩ`;
  }

  channelSelect.addEventListener('change', updatePrice);
  durationSelect.addEventListener('change', updatePrice);

  // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ (—á–µ—Ä–µ–∑ Formspree)
  document.getElementById('orderForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const data = new FormData(this);
    const statusMsg = document.getElementById('statusMsg');

    try {
      const res = await fetch("https://formspree.io/f/xnnvlzor", {
        method: "POST",
        body: data,
        headers: { 'Accept': 'application/json' }
      });
      if (res.ok) {
        statusMsg.textContent = "‚úÖ –ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!";
        this.reset();
        priceDisplay.textContent = "–¶–µ–Ω–∞: 0 ‚ÇΩ";
      } else {
        statusMsg.textContent = "‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏.";
      }
    } catch {
      statusMsg.textContent = "‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏.";
    }
  });
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NikoAd ‚Äî –†–µ–∫–ª–∞–º–∞ –≤ Telegram</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #6a0dad, #12005e);
    color: #f0f0f5;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }

  h1 {
    margin-bottom: 20px;
    text-align: center;
    font-weight: 700;
    letter-spacing: 2px;
  }

  .channels {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    max-width: 900px;
    margin-bottom: 40px;
  }

  .channel-card {
    background: #2e005e;
    border-radius: 12px;
    padding: 20px;
    width: 220px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(106, 13, 173, 0.5);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .channel-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 8px 25px rgba(106, 13, 173, 0.8);
  }

  .channel-name {
    font-weight: 700;
    font-size: 1.2rem;
    margin-bottom: 10px;
  }

  .subscribers {
    font-size: 0.9rem;
    margin-bottom: 10px;
    color: #b0a9e6;
  }

  .btn-show {
    align-self: flex-start;
    background: #8a2be2;
    border: none;
    border-radius: 8px;
    padding: 8px 14px;
    color: white;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.25s ease;
  }

  .btn-show:hover {
    background: #bf94ff;
  }

  /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
  .stats-panel {
    background: #210044;
    max-width: 700px;
    width: 100%;
    border-radius: 14px;
    padding: 25px 30px;
    box-shadow: 0 6px 20px rgba(106, 13, 173, 0.7);
    color: #e3dbff;
    opacity: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease, opacity 0.5s ease;
  }

  .stats-panel.active {
    opacity: 1;
    max-height: 600px;
  }

  .stats-header {
    font-weight: 700;
    font-size: 1.6rem;
    margin-bottom: 15px;
  }

  .price-list {
    list-style: none;
    padding: 0;
    margin: 0 0 25px 0;
  }

  .price-list li {
    margin-bottom: 8px;
  }

  .price-list li span {
    font-weight: 600;
  }

  /* –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ */
  form {
    display: flex;
    flex-direction: column;
  }

  form input, form textarea {
    background: #3c007d;
    border: none;
    border-radius: 10px;
    padding: 12px 14px;
    margin-bottom: 15px;
    font-size: 1rem;
    color: #eee;
    resize: vertical;
    transition: background-color 0.3s ease;
  }

  form input::placeholder,
  form textarea::placeholder {
    color: #b0a9e6;
  }

  form input:focus, form textarea:focus {
    outline: none;
    background-color: #5a00bc;
  }

  form button {
    background: #8a2be2;
    border: none;
    border-radius: 10px;
    padding: 15px;
    font-size: 1.1rem;
    font-weight: 700;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  form button:hover {
    background: #bf94ff;
  }

  #status {
    margin-top: 10px;
    min-height: 22px;
    font-weight: 700;
  }

  /* –°–∫—Ä—ã—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
  .hidden {
    display: none;
  }

  /* –ê–¥–∞–ø—Ç–∏–≤ */
  @media (max-width: 600px) {
    .channels {
      flex-direction: column;
      align-items: center;
    }

    .channel-card {
      width: 90%;
    }

    .stats-panel {
      max-width: 90vw;
      padding: 20px;
    }
  }
</style>
</head>
<body>

<h1>NikoAd ‚Äî –†–µ–∫–ª–∞–º–∞ –≤ Telegram</h1>

<div class="channels" id="channels">
  <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
</div>

<div class="stats-panel" id="statsPanel">
  <div class="stats-header" id="statsTitle">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞</div>
  <ul class="price-list" id="priceList"></ul>
  <form id="orderForm">
    <input type="text" id="name" name="name" placeholder="–í–∞—à–µ –∏–º—è" required />
    <input type="text" id="tg" name="tg" placeholder="Telegram (@–Ω–∏–∫–Ω–µ–π–º)" required />
    <textarea id="msg" name="msg" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" rows="3"></textarea>
    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    <div id="status"></div>
  </form>
</div>

<script>
  const channelsData = [
    {
      id: 'tver',
      name: '–ò—â—É –¢–µ–±—è –¢–≤–µ—Ä—å',
      subs: 10500,
      link: 'https://t.me/–∏—â—É—Ç–µ–±—è—Ç–≤–µ—Ä—å',
      prices: [
        ['24 —á–∞—Å–∞', '1550‚ÇΩ'],
        ['48 —á–∞—Å–æ–≤', '1700‚ÇΩ'],
        ['72 —á–∞—Å–∞', '1900‚ÇΩ'],
        ['–ù–∞–≤—Å–µ–≥–¥–∞', '2600‚ÇΩ'],
        ['–ò—Å—Ç–æ—Ä–∏—è', '1100‚ÇΩ']
      ]
    },
    {
      id: 'nizhnevartovsk',
      name: '–ò—â—É –¢–µ–±—è –ù–∏–∂–Ω–µ–≤–∞—Ä—Ç–æ–≤—Å–∫',
      subs: 6000,
      link: 'https://t.me/–∏—â—É—Ç–µ–±—è–Ω–∏–∂–Ω–µ–≤–∞—Ä—Ç–æ–≤—Å–∫',
      prices: [
        ['24 —á–∞—Å–∞', '1400‚ÇΩ'],
        ['48 —á–∞—Å–æ–≤', '1600‚ÇΩ'],
        ['72 —á–∞—Å–∞', '1800‚ÇΩ'],
        ['–ù–∞–≤—Å–µ–≥–¥–∞', '2200‚ÇΩ'],
        ['–ò—Å—Ç–æ—Ä–∏—è', '1100‚ÇΩ']
      ]
    },
    {
      id: 'niko',
      name: 'NIKO üá¶üá≤',
      subs: 3500,
      link: 'https://t.me/niko_armenia',
      prices: [
        ['24 —á–∞—Å–∞', '1000‚ÇΩ'],
        ['48 —á–∞—Å–æ–≤', '1150‚ÇΩ'],
        ['72 —á–∞—Å–∞', '1250‚ÇΩ'],
        ['–ò—Å—Ç–æ—Ä–∏—è', '800‚ÇΩ']
      ]
    },
    {
      id: 'krasnoyarsk',
      name: '–ò—â—É –¢–µ–±—è –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫',
      subs: 3000,
      link: 'https://t.me/–∏—â—É—Ç–µ–±—è–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫',
      prices: [
        ['24 —á–∞—Å–∞', '800‚ÇΩ'],
        ['48 —á–∞—Å–æ–≤', '1000‚ÇΩ'],
        ['72 —á–∞—Å–∞', '1150‚ÇΩ'],
        ['–ù–∞–≤—Å–µ–≥–¥–∞', '1300‚ÇΩ'],
        ['–ò—Å—Ç–æ—Ä–∏—è', '700‚ÇΩ']
      ]
    }
  ];

  const channelsContainer = document.getElementById('channels');
  const statsPanel = document.getElementById('statsPanel');
  const statsTitle = document.getElementById('statsTitle');
  const priceList = document.getElementById('priceList');
  const orderForm = document.getElementById('orderForm');
  const statusDiv = document.getElementById('status');

  // –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–Ω–∞–ª–æ–≤
  channelsData.forEach(channel => {
    const card = document.createElement('div');
    card.className = 'channel-card';
    card.innerHTML = `
      <div class="channel-name">${channel.name}</div>
      <div class="subscribers">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: ${channel.subs.toLocaleString()}</div>
      <button class="btn-show">–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
    `;
    card.querySelector('.btn-show').addEventListener('click', () => {
      showStats(channel);
    });
    channelsContainer.appendChild(card);
  });

  // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Ñ–æ—Ä–º—É –∑–∞—è–≤–∫–∏
  function showStats(channel) {
    statsTitle.innerHTML = `<a href="${channel.link}" target="_blank" style="color:#bf94ff;text-decoration:none;">${channel.name}</a> ‚Äî –ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: ${channel.subs.toLocaleString()}`;
    priceList.innerHTML = '';
    channel.prices.forEach(([desc, price]) => {
      const li = document.createElement('li');
      li.innerHTML = `<span>${desc}:</span> ${price}`;
      priceList.appendChild(li);
    });

    // –°–∫—Ä—ã—Ç—å —Å—Ç–∞—Ç—É—Å –∏ –æ—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
    statusDiv.textContent = '';
    orderForm.reset();

    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
    statsPanel.classList.add('active');
  }

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
  orderForm.addEventListener('submit', async e => {
    e.preventDefault();
    const name = document.getElementById('name').value.trim();
    const tg = document.getElementById('tg').value.trim();
    const msg = document.getElementById('msg').value.trim();

    // –ü–æ–¥—Å—Ç–∞–≤—å —Å—é–¥–∞ —Å–≤–æ–π –±–µ–∫–µ–Ω–¥ URL
    const backendUrl = 'https://nikoad-server.onrender.com/api/send';

    try {
      const res = await fetch(backendUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, tg, msg })
      });
      if (res.ok) {
        statusDiv.textContent = '‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!';
        statusDiv.style.color = '#8efc8e';
        orderForm.reset();
      } else {
        throw new Error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ');
      }
    } catch (err) {
      statusDiv.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.';
      statusDiv.style.color = '#ff8e8e';
    }
  });
</script>

</body>
</html>

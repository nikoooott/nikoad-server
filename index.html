<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NikoAd ‚Äî –†–µ–∫–ª–∞–º–∞ –≤ Telegram</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #6a0dad, #12005e);
      color: #f0f0f5;
      min-height: 100vh;
      padding: 20px;
    }

    h1 {
      text-align: center;
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 30px;
    }

    .channels {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin-bottom: 40px;
    }

    .channel-card {
      background: #2e005e;
      border-radius: 12px;
      padding: 20px;
      width: 250px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(106, 13, 173, 0.4);
    }

    .channel-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 6px 20px rgba(106, 13, 173, 0.7);
    }

    .channel-card h3 {
      margin: 0 0 10px;
      font-size: 1.1rem;
    }

    .channel-card .subs {
      font-size: 0.9rem;
      color: #b0a9e6;
    }

    .channel-card a {
      color: #bf94ff;
      font-size: 0.85rem;
      text-decoration: none;
    }

    .channel-card button {
      margin-top: 10px;
      background: #8a2be2;
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }

    .channel-card button:hover {
      background: #a658f5;
    }

    .stats {
      background: #210044;
      max-width: 600px;
      margin: 0 auto 30px;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(106, 13, 173, 0.5);
      display: none;
    }

    .stats.active {
      display: block;
    }

    .stats h3 {
      margin-top: 0;
      font-size: 1.3rem;
      margin-bottom: 10px;
    }

    .stats ul {
      list-style: none;
      padding-left: 0;
    }

    .stats ul li {
      margin-bottom: 5px;
    }

    form {
      background: #210044;
      max-width: 500px;
      margin: 0 auto;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(106, 13, 173, 0.5);
    }

    form input, form textarea, form select {
      width: 100%;
      margin-bottom: 15px;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: #3c007d;
      color: white;
      font-size: 1rem;
    }

    form button {
      width: 100%;
      padding: 14px;
      background: #8a2be2;
      border: none;
      border-radius: 10px;
      font-weight: 700;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    form button:hover {
      background: #a658f5;
    }

    #priceResult {
      text-align: center;
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 15px;
    }

    @media(max-width:600px) {
      .channel-card {
        width: 90%;
      }
    }
  </style>
</head>
<body>

<h1>NikoAd ‚Äî –†–µ–∫–ª–∞–º–∞ –≤ Telegram</h1>

<div class="channels" id="channels"></div>

<div class="stats" id="statsPanel">
  <h3 id="statsTitle">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞</h3>
  <ul id="statsPrices"></ul>
</div>

<form id="orderForm">
  <input type="text" id="name" placeholder="–í–∞—à–µ –∏–º—è" required />
  <input type="text" id="tg" placeholder="Telegram (@username)" required />
  <textarea id="post" rows="3" placeholder="–¢–µ–∫—Å—Ç —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –ø–æ—Å—Ç–∞" required></textarea>

  <label for="channelSelect">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª—ã:</label>
  <select id="channelSelect" multiple required></select>

  <label for="durationSelect">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:</label>
  <select id="durationSelect" required>
    <option value="24">24 —á–∞—Å–∞</option>
    <option value="48">48 —á–∞—Å–æ–≤</option>
    <option value="72">72 —á–∞—Å–∞</option>
    <option value="forever">–ù–∞–≤—Å–µ–≥–¥–∞</option>
    <option value="story">–ò—Å—Ç–æ—Ä–∏—è</option>
  </select>

  <div id="priceResult">–ò—Ç–æ–≥: 0‚ÇΩ</div>

  <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
  <div id="status"></div>
</form>

<script>
  const channels = [
    {
      id: "tver",
      name: "–ò—â—É –¢–µ–±—è –¢–≤–µ—Ä—å",
      link: "https://t.me/ishutebyatverr",
      subs: 10500,
      prices: {
        "24": 1550,
        "48": 1700,
        "72": 1900,
        "forever": 2600,
        "story": 1100
      }
    },
    {
      id: "nizhnevartovsk",
      name: "–ò—â—É —Ç–µ–±—è –ù–∏–∂–Ω–µ–≤–∞—Ä—Ç–æ–≤—Å–∫",
      link: "https://t.me/nizhnevartovsk_dtp",
      subs: 6000,
      prices: {
        "24": 1400,
        "48": 1600,
        "72": 1800,
        "forever": 2200,
        "story": 1100
      }
    },
    {
      id: "niko",
      name: "NIKO üá¶üá≤",
      link: "https://t.me/nikotver",
      subs: 3500,
      prices: {
        "24": 1000,
        "48": 1150,
        "72": 1250,
        "story": 800
      }
    },
    {
      id: "krasnoyarsk",
      name: "–ò—â—É –¢–µ–±—è –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫",
      link: "https://t.me/ishutebyakrasnoyarsk",
      subs: 3000,
      prices: {
        "24": 800,
        "48": 1000,
        "72": 1150,
        "forever": 1300,
        "story": 700
      }
    }
  ];

  const channelsContainer = document.getElementById('channels');
  const statsPanel = document.getElementById('statsPanel');
  const statsTitle = document.getElementById('statsTitle');
  const statsPrices = document.getElementById('statsPrices');
  const channelSelect = document.getElementById('channelSelect');
  const durationSelect = document.getElementById('durationSelect');
  const priceResult = document.getElementById('priceResult');
  const statusDiv = document.getElementById('status');

  channels.forEach(ch => {
    // –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–∞–Ω–∞–ª–∞
    const card = document.createElement('div');
    card.className = 'channel-card';
    card.innerHTML = `
      <h3>${ch.name}</h3>
      <div class="subs">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: ${ch.subs.toLocaleString()}</div>
      <a href="${ch.link}" target="_blank">–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª</a><br>
      <button onclick="showStats('${ch.id}')">–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
    `;
    channelsContainer.appendChild(card);

    // –û–ø—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–µ
    const opt = document.createElement('option');
    opt.value = ch.id;
    opt.textContent = ch.name;
    channelSelect.appendChild(opt);
  });

  function showStats(channelId) {
    const ch = channels.find(c => c.id === channelId);
    if (!ch) return;

    statsTitle.textContent = ch.name + ' ‚Äî –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: ' + ch.subs.toLocaleString();
    statsPrices.innerHTML = '';
    for (const [key, price] of Object.entries(ch.prices)) {
      let label = key === "24" ? "24 —á–∞—Å–∞" :
                  key === "48" ? "48 —á–∞—Å–æ–≤" :
                  key === "72" ? "72 —á–∞—Å–∞" :
                  key === "forever" ? "–ù–∞–≤—Å–µ–≥–¥–∞" : "–ò—Å—Ç–æ—Ä–∏—è";
      statsPrices.innerHTML += `<li>${label}: ${price}‚ÇΩ</li>`;
    }

    statsPanel.classList.add('active');
    window.scrollTo({ top: statsPanel.offsetTop - 20, behavior: 'smooth' });
  }

  function calculatePrice() {
    const selectedChannels = Array.from(channelSelect.selectedOptions).map(o => o.value);
    const duration = durationSelect.value;
    let total = 0;
    selectedChannels.forEach(cid => {
      const channel = channels.find(c => c.id === cid);
      if (channel && channel.prices[duration]) {
        total += channel.prices[duration];
      }
    });
    priceResult.textContent = `–ò—Ç–æ–≥: ${total}‚ÇΩ`;
  }

  channelSelect.addEventListener('change', calculatePrice);
  durationSelect.addEventListener('change', calculatePrice);

  document.getElementById('orderForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const name = document.getElementById('name').value.trim();
    const tg = document.getElementById('tg').value.trim();
    const post = document.getElementById('post').value.trim();
    const channelsList = Array.from(channelSelect.selectedOptions).map(o => o.textContent).join(', ');
    const duration = durationSelect.options[durationSelect.selectedIndex].text;

    const message = `üìù –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞:\nüë§ –ò–º—è: ${name}\nüì± Telegram: ${tg}\nüì¢ –ö–∞–Ω–∞–ª—ã: ${channelsList}\nüïí –í—Ä–µ–º—è: ${duration}\nüìÑ –ü–æ—Å—Ç: ${post}`;

    try {
      const res = await fetch("https://formspree.io/f/xnnvlzor", {
        method: "POST",
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message })
      });

      if (res.ok) {
        statusDiv.textContent = "‚úÖ –ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!";
        statusDiv.style.color = "#8efc8e";
        e.target.reset();
        priceResult.textContent = '–ò—Ç–æ–≥: 0‚ÇΩ';
      } else {
        throw new Error();
      }
    } catch (err) {
      statusDiv.textContent = "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏.";
      statusDiv.style.color = "#ff8e8e";
    }
  });
</script>

</body>
</html>
